<%- include('../partials/header.ejs') %>

    <!-- Main -->
    <main class="container lg:max-w-7xl flex items-center grow flex-col md:flex-row mx-auto my-32 md:mt-12 md:mb-24 md:px-4">
      
      <!-- Edit Form -->
      <form class="w-full" method="POST" action="/events/<%= event.id%>?_method=PUT" enctype="multipart/form-data">
        <!-- Event Container -->
        <div class="flex flex-col justify-center h-3/5 w-full bg-light border-y md:border border-slate-900 sm:rounded py-5 md:p-3 shadow-xl">
          <div class="bg-white pt-8 md:p-8 border-y-2 sm:border-2 border-slate-300 rounded-xl shadow-lg">
              <!-- Event Header -->
            <div class="flex items-center justify-center">
              <!-- Event Title -->
              <div class="flex flex-col md:flex-row grow justify-center">
                <label class="text-2xl md:text-3xl"><strong>Title: </strong></label>
                <input type="text" class="ml-3 pl-1 border border-slate-400 pl-1 text-2xl md:text-3xl" name="title" value="<%= event.title %>" required></input>
              </div>
            </div>

            <!-- Event Info -->
            <div class="flex flex-col md:flex-row items-center mt-10 bg-slate-200 border-2 border-slate-300 shadow-lg rounded-xl p-5">
              <!-- Image -->
              <img src="<%= event.image %>" alt="<%= event.title %> Image" class="h-full sm:rounded rounded-lg shadow-lg border-slate-300 bg-slate-200">
              
              <!-- Event Text -->
              <div class="grow flex flex-col justify-center space-y-10 mt-12 md:mt-0 p-6 md:ml-12 bg-slate-200 rounded-xl">
                  <!-- Category -->
                  <div class="flex">
                    <label for="category" class="sans"><strong>Category: </strong></label>
                    <select name="category" id="category" class="w-full sans bg-white border border-slate-400 sans text-2xl grow ml-3 pl-1" value="<%= event.category %>">
                      <% categories.forEach(category => {
                        if(category===event.category) { %>
                          <option selected><%= category %></option>
                        <% } else { %>
                          <option><%= category %></option>
                        <% }
                      }) %>
                    </select>  
                  </div>

                  <!-- Details -->
                  <div class="flex">
                    <label class="sans text-2xl"><strong>Details: </strong></label>
                    <textarea class="sans text-2xl grow ml-3 pl-1 border border-slate-400" name="details" required><%= event.details %></textarea>  
                  </div>
                  
                  <!-- Location -->
                  <div class="flex">
                    <label class="sans text-2xl"><strong>Location: </strong></label>
                    <input type="text" class="sans text-2xl grow ml-3 pl-1 border border-slate-400" name="location" value="<%= event.location %>" required></input>  
                  </div>
          
                  <!-- Start Time -->
                  <div class="flex">
                    <label class="sans text-2xl"><strong>Start Time: </strong></label>
                    <input type="datetime-local" class="sans text-2xl grow md:ml-3 pl-1 border border-slate-400" name="startTime" value="<%= event.startTime %>" required></input>  
                  </div>

                  <!-- End Time -->
                  <div class="flex">
                    <label class="sans text-2xl"><strong>End Time: </strong></label>
                    <input type="datetime-local" class="sans text-2xl grow md:ml-3 pl-1 border border-slate-400" name="endTime" value="<%= event.endTime %>" required></input>  
                  </div>

                  <!-- Image -->
                  <div class="flex">
                    <label for="image" class="sans"><strong>Image</strong></label>
                    <input type="file" name="image" id="image" class="w-full sans text-2xl grow md:ml-3 pl-1" value="<%= event.image %>">
                  </div>
              </div>
            </div>

            <!-- Submit -->
            <div class="flex justify-center mt-8">
              <button class="bg-green rounded-full border border-slate-500 hover-bg-blue p-5 m-5 w-4/5 md:w-1/5 shadow-lg" type="submit">Submit</button>   
            </div>

          </div>
        </div>
      </form>
    </main>

    <%- include('../partials/footer.ejs') %>


    